<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Mathematics for Finance | Sudhansh</title> <meta name="author" content="Sudhansh Peddabomma"> <meta name="description" content=""> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link href="/assets/css/bootstrap-toc.min.css?6f5af0bb9aab25d79b2448143cbeaa88" rel="stylesheet"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%91%BE&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://sudhansh6.github.io/blog/Mathematics-for-Finance/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?e74e74bf055e5729d44a7d031a5ca6a5" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?6185d15ea1982787ad7f435576553d64"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/">Sudhansh</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About</a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">Articles</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects</a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/challenges/">Challenges</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/misc/">Miscellaneous</a> </div> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="row"> <div class="col-sm-3"> <nav id="toc-sidebar" class="sticky-top"></nav> </div> <div class="col-sm-9"> <div class="post"> <header class="post-header"> <h1 class="post-title">Mathematics for Finance</h1> <p class="post-meta">April 1, 2024</p> <p class="post-tags"> <a href="/blog/2024"> <i class="fa-solid fa-calendar fa-sm"></i> 2024 </a>   ·   <a href="/blog/category/notes"> <i class="fa-solid fa-tag fa-sm"></i> Notes</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <h2 id="introduction">Introduction</h2> <p>We will discuss mathematics for options, pricing methods, and optimizing the performance of a portfolio. We will cover discrete (finite probability spaces, tree models) as well as continuous math (Brownian Motion, Black-Scholes formula, Martingale theory).</p> <p><code class="language-plaintext highlighter-rouge">Assignment 1 due in 2 weeks</code></p> <p>The theory in the course revolves around the “No Arbitrage theorem” which is closely related to one-price principle. When you start investment, the idea is to strategize your transactions so that your net income is either positive or neutral. Similarly, the idea of one-price principle theorizes that a set of investments with the same net outcome, albeit with different transactions, should have the same price.</p> <h3 id="odds-and-arbitrage">Odds and Arbitrage</h3> <p>Let us consider the example of a horse race, where \(P(\text {S wins}) = 3/4\) and \(P(\text{W wins}) = 1/4\). How do we calculate the odds against \(W\) winning? It is given by \(P(\text{W wins})/P(\text{W loses}) = 3\). This situation is called \(3\text{-to-}1\) odds. That means, a dollar bet \(\$ 1\) brings \(\$ 3\) if \(W\) wins. Similarly, for \(S\), it brings \(\$ 0.3\). These bets are an example of a fair game, the net reward \(\frac{1}{4} (3) + \frac{3}{4}(-1)\) is \(0\).</p> <p>A <em>bookmaker</em> sets the odds for such scenarios. Consider an other example where the odds are \(9\text{-to-}5\) against \(W\) and \(2\text{-to-}5\) against \(S\). We claim that this results in an arbitrage for the bookmaker. To illustrate this, consider the bets \(\$ 10\) on \(S\) and \(\$ 5\) on \(W\). The payoff for the bookmaker when \(S\) wins is \(5 - 10\frac{2}{5} = 1\). When \(W\) wins, the profit is \(10 - 5\frac{9}{5} = 1\). A bookmaker typically decides the odds after the bets are made so that arbitrage is made in any scenarios.</p> <p>Ideally, one wants to make profit from such games. How do we do this? In the first example, we considered the probabilities and calculated the odds. To decide the odds for arbitrage, we do the reverse. In the above scenario, given the odds, the probabilities are \(P(S) \approx 71\%\) and \(P(W) \approx 36\%\). The probabilities add up to slightly above \(100\%\), which makes up the arbitrage for the bookmaker.</p> <h3 id="forwards-contract">Forwards Contract</h3> <p>An agreement is made between two parties to buy/sell a particular instrument for a <em>set price</em> on an agreed time in the future. Such an agreement is called as a forwards contract, and the following illustrates a simple example.</p> <ul> <li>\(A\) agrees at time \(t = 0\) to sell one share at time \(T\) for \(\$ F\). We assume that \(A\) buys the share at \(t = 0\) at price \(S_0\).</li> <li>\(B\) agrees at time \(t = 0\) to buy one share at time \(T\) for \(\$ F\)</li> </ul> <p>We assume that \(A, B\) don’t invest their own money, and borrow money from the bank to perform transactions. Given such a scenario, how do we decide a <em>fair price</em> \(F\)? To simplify the calculations, we assume the following -</p> <ul> <li>No transaction costs or dividends.</li> <li>Market is liquid - every transaction has a buyer and seller available.</li> <li>Investor is <em>small</em> compared to the market. That is, the action of the investor is not momentous enough to change the price of the stock in the market.</li> <li>Short selling/borrowing of stock is allowed.</li> </ul> <p>\(B\) can invest the amount in the bank for a <em>continuous compound</em> interest rate \(r\) during this term. The claim is that \(F = S_0 e^{rT}\) where \(S_0\) is the price of the share at \(t = 0\). To analyze this, we consider the following cases -</p> <ul> <li> \[F &gt; S_0 e^{rT}\] <p>\(A\) sells the share for \(\$ F\) and repays the loan of \(\$ S_0\) with interest - \(\$ S_0 e^{rT}\). The profit \(A\) gets is \(F - S_0 e^{rT}\)</p> </li> <li> \[F &gt; S_0e^{rT}\] <p>\(B\) short sells one share for \(\$ S_0\) and invests \(\$ S_0\) in the bank. The money in the bank will grow to \(S_0 e^{rT}\) at \(t = T\), and \(B\) buys one share at \(F\). The profit for \(B\) here is \(S_0 e^{rT} - F &gt; 0\)</p> </li> </ul> <p>So the fair price is \(S_0 e^{rT}\) where neither \(A\) nor \(B\) can take advantage.</p> <h2 id="european-call-options">European Call Options</h2> <p>Options are similar to forward contracts where the parties agree on a transaction in the future. The important difference is that the option holder <em>has the right to buy the instrument with no obligation</em> at \(t = T\) for \(\$ K\) called the <strong>strike price</strong>. At time \(T\), if the market price of the instrument is greater than \(K\), then the option holder exercises his right to gain a profit. Otherwise, he chooses to do nothing. We have the following assuming the option is free -</p> \[P = (S_T - K)^+ = \begin{cases} S_T - K &amp; S_T &gt; k \\ 0 &amp; S_T \leq K \end{cases}\] <p>How do we decide the <em>fair price</em> at \(t = 0\) for the option? We need to use probability results to model the price movement to decide this. In discrete time settings, we use different models like Cox, Ross and Rubenstein. In continuous time frame, we use Brownian motion using the Black-Scholes model. In both cases, there exists a unique fair price. However, if the product is slightly more complicated, then there is no unique fair price.</p> <h3 id="contingent-claim">Contingent Claim</h3> <p>In general, we want to be able to price a contract with a general underlying random variable \(X\) that evolves across time with \(X(w) \geq 0\). For example, for the <em>call</em> option described above, we have \(X(w) = (S(w)_t - K)^+\) For a <em>put</em> option, where the holder has the right to sell a certain asset at a fixed price, we get \(X(w) = K - S_T)^+\).</p> <p>There can be other kinds of <em>structured products</em> like</p> <ul> <li> \[X = \max(S_1, \dots, S_T)\] </li> <li> \[X = \left(\frac{1}{T} \sum_{t = 1}^T S_t - K\right)^+\] </li> </ul> <p>In the above definitions, the variables \(w, S_t\) capture the evolution of price across time, and are described in the next section.</p> <h2 id="binomial-model">Binomial Model</h2> <p>Also known as <strong>Cox-Ross-Rubenstein Model (CRR)</strong> considers the following two types of assets</p> <h4 id="bonds">Bonds</h4> <p>Considered as a risk-free asset, the price is modeled as \(B_t = B_0 (1 + r)^t\) for \(t = 0, 1, \dots, T\). \(B_0\) is typically assumed as \(1\).</p> <h4 id="stocks">Stocks</h4> <p>Stocks are considered as risk-models where the price evolution is captured using binomial random variables. We consider the model \(S_t = s_o \zeta_1 \dots \zeta_{t_1} = S_{t - 1} \zeta_t\) where \(S_0 &gt; 0\) is the constant intial price. In this model, we assume \(P(\zeta_t = u) = p\) and \(P(\zeta_t = d) = 1- p\) where \(0 &lt; d &lt; 1 + r &lt; u\) where \(d, u\) are the down and up movements respectively. That is, \(S_{t + 1} = S_t u\) represents the price of the stock if the price has moved upward at time \(t\).</p> <p>\textcolor{red}{Need to add some stuff here}</p> <p>Let the field \(\mathcal F_0 = \{ \phi, \Omega\}\) and \(\begin{align*} \mathcal F_1 &amp;= \sigma(S_1) \\ &amp;= \{ \phi, \Omega, \{w: S_1(w) = S_0u \}, \{w: s_(1) = S_0 d\}\} \\ &amp;= \sigma(\{S_1 = S_0u\}), \{S_1 = S_0d\}) \end{align*}\)</p> <p>This is a partition of \(\Omega\). Similarly, for \(t = 2\), we get \(\mathcal F_1 = \{ \phi, \Omega, \{uu, ud\}, \{dd, du\}\}\). EXtrapolating this, \(\mathcal F_t = \sigma(S_1, \dots, S_t) = \sigma(\zeta_2, \dots, \zeta_t)\) We get \(\#(\mathcal F)_t = 2^t\).</p> <p>This evolution can be represented using a binomial tree of the following form -</p> <p>\textcolor{red}{Need to add tree here}</p> <h2 id="trading-strategy">Trading Strategy</h2> <p>A strategy \(\phi\) consists of sequence of random variable pairs \(\phi = \{(\alpha_t, \beta_t); t = 1, \dots, T\}\) where \(\alpha_t\) represents the holdings of a stock and \(\beta_t\) represents the holdings of a bond on day \(t\) (The unit for time can be taken as minutes, hours, etc., but we consider days). We also have the following assumptions</p> <ol> <li>Predictability: \(\alpha_t, \beta_t \in \mathcal F_{t - 1}, t = 1, \dots, T\)</li> <li>Self-financing: \(\alpha_t S_t + \beta_t B_t = \alpha_{t + 1} S_t + \beta_{t + 1}B_t\). That is, there is no influx or outflux of money asides from the changes in the underlying assets. We have some initial investment and assume that \(\alpha_1, \beta_1\) are \(\mathcal F_0\)-measurable are constant.</li> </ol> <p>The value of the portfolio at time \(t\) is given by \(V_t(\phi) = \alpha_t S_t + \beta_t B_t, t = 1, \dots, T\) and \(v_0(\phi) = \alpha_1 S_0 + \beta B_0 = \alpha_1 S_1 + \beta_1\). We can now define the concept of <strong>arbitrage</strong> formally.</p> <h3 id="arbitrage">Arbitrage</h3> <p>An arbitrage is a trading strategy \(\phi\) such that \(V_0(\phi) = 0\) and \(V_t(\phi) \geq 0\). That is, we don’t have any initial investment and get a profit at time \(t = T\). However, note that \(V_t(\phi)\) is a random variable, so the inequality is assumed to be a point-wise inequality wherein \(V_T(\phi)(w) \geq 0, \forall w \in \Omega\). This is a stronger assumption than \(P(V_T(\phi) &gt; 0) &gt; 0 \equiv E(V_T(\phi)) &gt; 0 \equiv V_T(\phi)(w) &gt; 0\) for some \(w \in \Omega\). Notice that the last equivalence does not have any probability term in the expression. This equivalence is important to note since it makes the definition invariant of the underlying probability assumptions.</p> <h3 id="hedge">Hedge</h3> <p>A hedging strategy \(\phi\) has the property \(V_T(\phi) = X\). That is, the market price of \(X\), \(C_0\) is equal to \(V_0(\phi)\). In the case where it is not equal, a party can make arbitrage from \(X\).</p> <h4 id="hedging-for-t--1">Hedging for \(T = 1\)</h4> <p>Consider the following example, where we try to hedge \(X\) at \(T = 1\). That is, we are trying to find a strategy \(\phi = (\alpha_!, \beta_1)\) such that \(V_1(\phi) = \alpha_1 S_1 + \beta_1 B_1\equiv X\).</p> <p>We have two cases based on the stock movement -</p> <ul> <li> \[\alpha_1 S_0 u + \beta_1 (1 + r) = X^u\] </li> <li> \[\alpha_1 S_0 d + \beta_1 (1 + r) = X^d\] </li> </ul> <p>Equivalently, \(\alpha_1 S_o(u - d) = X^u - X^d\)</p> \[\begin{align*} \alpha_1 &amp;= \frac{X^u - X^d}{u - d}\frac{1}{S_0} \\ \beta_1 &amp;= \frac{uX^u - d X^d}{u - d}\frac{1}{B_1} \end{align*}\] <p>Consequently,</p> \[\begin{align*} V_0 (\phi) = \alpha_1 S_0 + \beta_1 \\ &amp;= \frac{X^u - X^d}{u- d} + \frac{uX^d - d X^u}{u - d}\frac{1}{1 + r} \\ &amp;= \frac{1}{1 + r}\left\{X^u \left(\frac{1 + r - d}{u - d}\right) + X^d \left(\frac{u - 1 - r}{u - d}\right)\right\} \\ &amp;= \frac{1}{1 + r} \mathbb E^* (X) \end{align*}\] <p>The above expression is reminiscent of an expectation formulation where \(p^* = \frac{1 + r - d}{u - d}\) and \(0 &lt; p^* &lt; 1\). Here, the set \(\{S_), S_1/(1 + r)\}\) is \(p^*\)-martingale.</p> <p>What is a Martingale? A Martingale is a sequence of random variables representing a stochastic process for which, at a particular time, the conditional expectation of the next value in the sequence is equal to the present value, regardless of all prior values.</p> <p>In the above case, we have</p> \[\begin{align*} \mathbb E^* (S_1/(1 + r) \vert \mathcal F_0) &amp;= S_0 u p^* + S_0 d(1 - p)^* \\ &amp;= S_0 \implies \mathbb E^*(S_1) = S_0(1 + r) \end{align*}\] <p><strong>Theorem 1 (T = 1)</strong> <em>For a given \(X\), the value \(\mathbb E^*(X)/(1 + r)\) is the non-arbitrage price of \(X\) at \(t = 0\).</em> That is, if \(C_0\) is the market price of \(X\), then \(V_0 = \mathbb E^*(X)/(1 + r) = V_0(\bar phi)\) where \(\bar \phi = (\bar \alpha_1, \bar \beta_1)\) (the values we calculated before). Consider the following cases -</p> <ol> <li> <p>Say \(C_0 &gt; V_0\) To make an arbitrage in this situation, we sell \(X\) for \(C_0\). We invest \(V_0\) in the stock and \(C_0 - V_0 &gt; 0\) in the bond at \(t = 0\). At time \(t = 1\), we get \(V_1(\bar \phi) = X\) yielding \((C_0 - V_0)(1 + r) &gt; 0\) as profit from the bond.</p> </li> <li> <p>Say \(C_0 &lt; V_0\) We do the opposite from above, where we buy the asset \(X\). Short sell \(\bar \phi\) for \(V_0\), and invest \(C_0\) in \(X\) and \(V_0 - C_0\) in the bond. We get the profit \((V_0 - C_0)(1 + r)\) at \(t = 1\).</p> </li> <li> <p>Say \(C_0 = V_0\) Here, we can show that no one can make an arbitrage. Consider the strategy \(\psi = (\alpha_1, \beta_1, \gamma_1)\) where \(\gamma_1\) is the contingent claim. We need to argue that no arbitrage can be made with any such strategy. We have,</p> <p>$$ \begin{align*}</p> </li> </ol> <p>V_0(\psi) &amp;= \alpha_1 S_0 + \beta_1 + \gamma_1 C_0 <br> V_1(\psi) &amp;= \alpha_1 S_1 + \beta B_1 + \gamma_1 X <br> \implies \mathbb E^<em>(V_1(\psi)) &amp;= \mathbb E^</em>(\alpha_1 S_1 + \beta_1 B1 + \gamma_1 X) <br> &amp;= \alpha_1 \mathbb E^<em>(S_1) + \beta_1 (1 + r) + \gamma_1 \mathbb E^</em>(X) \end{align*} $$</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>We can distribute the expectation this way due to the linearity property. Recall that, we typically assume $$B_0 = 1$$ for brevity. Continuting the calculations,
</code></pre></div></div> \[\begin{align*} \mathbb E^*(V_1(\psi)) &amp;= \alpha_1 S_1(1 + r) + \beta_1(1 + r) + \gamma_1 V_0 (\bar \phi)(1 + r) \\ &amp;= \alpha_1 S_1(1 + r) + \beta_1(1 + r) + \gamma_1 C_0 (1 + r) \\ &amp;= (1 + r) V_0 (\psi) \end{align*}\] <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>IF $$V_0(\psi) = 0$$, then $$\mathbb E^*(V_1(\psi)) = 0$$, and if $$V_1(\psi) \geq 0 $$, then $$P^*(V_1(\psi) = 0) = 1$$. That is, $$V_1(\psi) = 0$$ meaning no arbitrage can be made with any strategy $$\psi$$. 
</code></pre></div></div> <h4 id="general-t">General \(T\)</h4> <p>This analysis can be extended to derive the hedging strategy a general \(t &gt; 1\). Given an \(X\), find \(\phi = \{(\alpha_t, \beta_t): t = 1, \dots, T\}\) such that \(V_T(\phi) = X\) (resulting in \(C_0 = V_0(\phi)\)). To derive such a strategy, we work backwards in time starting from \(V_T(\phi) = X\). This way, we can also calculate the intermediate price - the price to enter the market at some intermediary time \(t\). It is helpful to think of the tree visualization for the price evolution.</p> \[\begin{align*} V_T(\phi) = \alpha_T S_T + \beta_T B_T = X \end{align*}\] <p>conditional on \(\mathcal F_{T - 1}\). Focusing on \(T - 1\) and \(T\), the analysis is similar to the previous case wherein \(X^U = X(w_1 \dots w_{T - 1} u)\) and \(X^d = X(w_1 \dots w_{T - 1} d)\). Doing so we get</p> \[\left. \begin{align*} \alpha_T = \frac{X^u - X^d}{u - d}\frac{1}{S_{T - 1}} \\ \beta_T = \frac{uX^d - dX^u}{u - d}\frac{1}{(1 + r)^T} \end{align*} \right\} \in \mathcal F_{T - 1}\] <p>Using the property of Martingales,</p> \[\begin{align*} \mathbb E^* (X \vert \mathcal F_{T - 1}) = \mathbb E^* [V_T(\phi) \vert \mathcal F_{T - 1}] &amp;= \mathbb E^*[\alpha_T S_T + \beta_T B_T \vert \mathcal F_{T - 1}] \\ &amp;= \alpha_T \mathbb E^*(S_T \vert \mathcal F_{T - 1}) + \beta_T B_T \\ &amp;= \alpha_T \left(p^* S_{T - 1} u + (1 - p^*) S_{T - 1} d\right) + \beta_T B_T \\ &amp;= \alpha_T S_{T - 1}(1 + r) + \beta_T B_T \end{align*}\] <p><em>Note.</em> \(\alpha_T, \beta_T\) are constants with respect to the <em>condition</em> \(\mathcal F_{T - 1}\), and that is why the linearity property can be used.</p> <p>Continuing the previous calculations</p> \[\begin{align*} \mathbb E^*(V_T \vert \mathcal F_{T - 1}) &amp;= \mathbb E^*(\alpha_T S_T + \beta_T B_T \vert \mathcal F_{T - 1}) \\ &amp;= \alpha_T S_{T - 1}(1 + r) + \beta_T B_{T - q}(1 + r) \\ &amp;= (1 + r) \left[\alpha_T S_{T - 1} + \beta_T B_{T - 1}\right] \\ &amp;= (1 + r) \left[\alpha_{T - 1} S_{T - 1} + \beta_{T - 1} B_{T - 1}\right] &amp;\because \text{ self-financing} \\ &amp;= (1 + r) V_{T - 1}(\phi) \end{align*}\] <p>As a result, we have a recursive property</p> \[\begin{align*} V_{t - 1}(\phi) &amp;= \frac{1}{1 + r} \mathbb E^*(V_T(\phi) \vert \mathcal F_{t - 1}) \\ \alpha_t &amp;= \frac{V_T^u - V_T^d}{u - d} \frac{1}{S_{T - 1}} \\ \beta_t &amp;= \frac{uV^d_t - dV^u_t}{u - d} \frac{1}{B_t} \end{align*}\] <p>for \(t = T, \dots, 1\)</p> <p>Before we proceed further, we state the <strong>Law of the forgetful statician</strong> or the <strong>Tower law</strong>.</p> \[\begin{align*} V_t(\phi) &amp;= \frac{1}{1 + r} \mathbb E^*(V_{t + 1} (\phi) \vert \mathcal F_t) \\ &amp;= \frac{1}{1 + r} \mathbb E^*\left(\frac{1}{1 + r} \mathbb E^*(V_{t + 2}(\phi) \vert \mathcal F_{t + 1} ) \vert \mathcal F_t\right) \\ &amp;= \frac{1}{(1 + r)^2} \mathbb E^*\left(\mathbb E^*\left(V_{T + 1} \vert \mathcal F_{t + 1}\right \vert \mathcal F_{t} \right) \\ &amp;= \frac{1}{(1 + r)^2} \mathbb E^*(V_{t + 2} \vert \mathcal F_t) \end{align*}\] <p>Consequently,</p> \[\begin{align*} V_T(\phi) &amp;= \frac{1}{(1 + r)^{T - t}} \mathbb E^*(V_T (\phi) \vert \mathcal F_t) \\ &amp;= \frac{1}{(1 + r)^{T - t}} \mathbb E^*(X \vert \mathcal F_t) \\ V_0 (\phi) &amp;= \frac{1}{(1 + r)^T \mathbb E^*(X)} \end{align*}\] <h3 id="conditional-expectation-of-martingales">Conditional Expectation of Martingales</h3> <p>Given \((\Omega, \mathcal D, P)\) with \(g \subset \mathcal F\), \(X \in L'(\mathcal F)\) then \(Y = \mathbb E(X \vert g)\) is the random variable such that</p> <ol> <li> \[Y \in L'(g)\] </li> <li>\(\mathbb E(YZ) = \mathbb E(XZ)\) for all \(Z\) that are \(g\)-measurable.</li> </ol> <p>where \(L'\) represents integrability. The above property is the general statement for the law of general statician.</p> <p><em>Special case.</em> When \(\Omega\) is finite (\(\#(\Omega) &lt; \infty\)), then \(\mathcal F = \{ \text{all subsets of } \Omega\}\) and \(g = \sigma(G_!, \dots, G_n)\) form a partition (\(G_i \cap G_j = \phi, \cup_{j = i}^n G_j = \Omega\)) of \(\Omega\) with \(P(G_k) &gt; 0\).</p> <p>A random variable \(Z\) is \(g\)-measurable iff \(Z(w) = \sum_{k = 1}^n \mathbb 1_{G_k} (w) \cdot c_k \equiv Z(w) = c_k \text{ if } w \in G_k\) where \(c_k\) is the cardinality of \(G_k\).</p> <p>Then,</p> \[\mathbb E[X \vert g](w) = \sum_{k = 1}^n \left(\mathbb 1_{G_k}(w) \cdot E[X \vert G_k]\right)\] <p>From Bayes’ rule</p> \[\mathbb E(X \vert G_k) = \mathbb E(X . \mathbb 1_{G_k}) /P(G_k) = \mathbb E(X; G_k)/P(G_k)\] <p>Using the above results, we get</p> <ol> <li> <p>\(X \to \mathbb E(X \vert Y)\) is linear &amp; positive (\(X \geq 0 \implies \mathbb E(X \vert g) \geq 0\))</p> </li> <li> \[\mathbb E(\mathbb E (X \vert g)) = \mathbb E(X)\] </li> <li> \[\mathbb E(XZ \vert g) \equiv E(X \vert y) Z\] </li> <li>If \(\mathbb E \in g\), then \(E(X \vert g) = X\) and \(X \perp\!\!\!\perp g\), then \(\mathbb E(X \vert Y) = \mathbb E(X)\).</li> </ol> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/Lattices-in-Cryptography/">Lattices in Cryptography and Quantum Computers</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/Modulo-Compressed-Sensing/">Modulo Compressed Sensing</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/Object-Detection/">Object Detection</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/GANs-for-Compressed-Sensing/">Generative Adversarial Networks for Compressed Sensing</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/Machine-Learning-Cheatsheet/">Machine Learning Cheatsheet</a> </li> </div> <script>document.querySelectorAll("#table-of-contents a").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substring(1);document.querySelectorAll(".content-section").forEach(function(e){e.classList.add("hidden")});var n=document.getElementById(t);n&&n.classList.remove("hidden")})});</script> </div> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2024 Sudhansh Peddabomma. Last updated: April 10, 2024. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?7b30caa5023af4af8408a472dc4e1ebb"></script> <script defer src="/assets/js/bootstrap-toc.min.js?c82ff4de8b0955d6ff14f5b05eed7eb6"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?9b43d6e67ddc7c0855b1478ee4c48c2d" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-0K9MLG0V24"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-0K9MLG0V24");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>