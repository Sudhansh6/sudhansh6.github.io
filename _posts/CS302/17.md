# Lecture 17

> `16-03-22`

### Marker Non-terminals

If we have a rule of the form $$X \to Y_1 \{\dots\} Y_2$$, then we convert it to the following set of rules
$$
X \to Y_1 M Y_2 \\
M \to \epsilon \{\dots\}
$$
$$M$$ is a marker non-terminal for $$Y_2$$ in the grammar. $$Y_1.s$$ and $$Y_2.s$$ denote the synthesised attributes of $$Y_1$$ and $$Y_2$$ whereas $$Y_2.i$$ denotes the inherited attribute of $$Y_2$$.

When $$M \to \epsilon \{\dots\}$$ is about to be reduced, the parsing stack contains $$Y_1$$, and the value stack contains $$Y_1.s$$. Once the reduction is done, we add $$M$$ to the parsing stack, and $$Y_2.i$$ is added to the value stack.

Marker non-terminals may cause reduce-reduce conflicts.

## Type Analysis

## Name and Scope Analysis

We maintain a stack of symbol tables. At the start of a new scope, we push a new symbol table on the stack. We start with the “global” scope symbol table. At the end of every scope, we pop the top symbol table from the stack. For use of a name, we look it up in the symbol table starting from the stack top

- If the name is not found in a symbol table, search in the symbol table below
- If the same name appears in two symbol tables, the one closer to the top hides the one below

