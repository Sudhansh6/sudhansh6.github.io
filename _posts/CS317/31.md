# Lecture 31

> `24-03-22`

### Cache conscious algorithms

The goal is to minimise the cache misses. 

- **Sorting** - We can use runs that are as large as L3 cache to avoid cache misses during sorting of a run. Then merge runs as usual in merge sort.
- **Hash-join** - We first create partitions such that build + probe partitions fit in memory. Then, we sub partition further such that sub partition and index fit in L3 cache. This speeds up probe phase.
- Lay out attributes of tuples to maximise cache usage. Store often accessed attributes adjacent to each other.
- Use multiple threads for parallel query processing. Cache miss leads to stall of one thread, but others can proceed.