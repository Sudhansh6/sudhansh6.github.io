# Lecture 14

> `01-02-22`

We shall continue discussing simplifying grammars. As an initial step, we can get rid of symbols which are either unreachable or unproductive. However, the order in which we check productivity and reachability affects how the grammar is simplified. For example, consider the grammar

```
S -> a
S -> AB
A -> a
```

Now, if we eliminate unreachable symbols first (that is none), and then eliminate unproductive symbols ($$B$$), we get

```
S -> a
A -> a
```

Notice that the above simplified grammar has a redundant rule. However, if we check for productivity ($$B$$ is eliminated) and then reachability ($$A$$ is unreachable), we get

```
S -> a
```

***Claim.*** <u>Eliminating unproductive symbols followed by unreachable symbols gives a grammar without any useless variables.</u>

> ***Homework.*** Prove the above claim.

### $$\epsilon$$-productions

Suppose $$G$$ is a CFG such that $$L(G)$$ has $$\epsilon$$, then $$L(G) - \{\epsilon\}$$ can be generated by a CFG $$G_1$$ which has no $$\epsilon$$-productions (rules of the form $$A \to \epsilon$$).

### Nullable symbols

$$A$$ is **nullable** if $$A \xrightarrow[G]{*} \epsilon$$.

How do we remove nullable symbols? We can’t just take out a rule of the form $$A \to \epsilon$$ as it may make $$A$$ unproductive. The way to go about this is to replace each rule of the form $$A \to X_1\dots X_n$$ to $$A \to \alpha_1 \dots \alpha_n$$ where


$$
\alpha_ i = \begin{cases}
	X_i & X_i\text{ is not nullable}\\
	\epsilon &\text{otherwise}
						\end{cases}
$$


However, one must be cautious about replacing all the symbols by $$\epsilon$$ and also about recursive rules. For instance, consider the following grammar


$$
S \to \epsilon \mid aSb \mid bSa \mid SS
$$


Now, $$S$$ is nullable but we can’t replace $$S \to aSb$$ by $$S \to ab$$ simply. We also need to have the rule $$S \to aSb$$ in place for recursion. Basically, for each rule of the form $$A \to X_1\dots X_n$$, we need to have all the rules of the form $$A \to \alpha$$ where $$\alpha$$ spans over all subsets of $$X_1 \dots X_n$$.

### Unit Productions

To remove unit productions, let us assume that there are no $$\epsilon$$-productions and useless symbols. Now, we need to find all pairs $$(X, Y)$$ such that $$X \xrightarrow[G]{*} Y$$. Once we find such pairs, we can try and eliminate the unit symbols themselves, or solely the rules.

Let us take the following grammar for $$L \{w \mid n_a(w) = n_b(w)\}$$ 


$$
S \to \epsilon \mid aSb \mid bSa \mid SS \\
\text{ simplified to } \\
S \to abS \mid bSa \mid SS \mid ab \mid ba
$$


and


$$
S \to \epsilon \\
S \to aB \mid bA \\
B \to b \mid bS \mid aBB \\
A \to a \mid aS \mid bAA \\ 
\text{ simplified by just removing } S \to \epsilon\\
$$


To convert the grammar into Chomsky normal form, we do approximately the following - we replace each rule of the form $$A \to X_1 \dots X_n$$ with $$A \to X_1B$$ and $$B \to X_2 \dots X_n$$. We keep repeating this until there is only a single terminal symbol on the rhs, or two non-terminals.